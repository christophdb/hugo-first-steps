{{ define "main" }}
    {{/* Traverse up to the root section (e.g., /content/help/) */}}
    {{ $root := . }}
    {{ range seq 5 }}
        {{/* Safety loop to prevent infinite recursion */}}
        {{ if $root.Parent.Parent }}
            {{/* Stop when parent is the homepage */}}
            {{ $root = $root.Parent }}
        {{ else }}
            {{ break }}
        {{ end }}
    {{ end }}


    <section class="padding max-container my-8">
        <div class="flex gap-8">
            <div class="root-categories w-1/4">
                <a href="{{ $root.RelPermalink }}">Zurück zur Hilfe-Startseite (später neben Logo)</a><br /><br />
                {{/* Display sections under the root */}}
                {{ range $root.Sections }}
                    <div>
                        <h2 class="mb-2 text-xl font-semibold"><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
                        <ul class="list-disc pl-4 text-sm text-gray-500">
                            {{ range .Pages }}
                                <li class="{{ if eq .RelPermalink $.RelPermalink }}text-red-300{{ end }}"><a href="{{ .RelPermalink }}">{{ .Title }}</a></li>
                            {{ end }}
                        </ul>
                    </div>
                {{ end }}
            </div>

            <div class="w-full max-w-3xl pl-12 lg:w-3/4">
                <h2 class="text-4xl">{{ .Title }}</h2>
                <p>{{ .Description }}</p>

                {{ if .Content }}
                    <div class="mt-8">
                        {{ .Content }}
                    </div>
                {{ end }}


                <div class="mt-8 grid grid-cols-2 gap-8">
                    {{ range .Pages }}

                        <div class="flex flex-col gap-4 rounded-xl bg-gray-100 p-4">
                            <a href="{{ .RelPermalink }}">{{ .Title }}</a>
                        </div>
                    {{ end }}

                </div>
            </div>
        </div>
    </section>
{{ end }}
