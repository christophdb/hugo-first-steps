<head>
    <meta charset="utf-8" />
    {{ with .Site.Language.Params.htmlCode | default .Site.LanguageCode }}<meta http-equiv="content-language" content="{{ . }}" />{{ end }}
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <title>{{ .Title | emojify | safeHTML }}</title>
    {{ if .Params.seo.title -}}
        <meta name="title" content="{{ .Params.seo.title | emojify | safeHTML }}" />
    {{- else -}}
        <meta name="title" content="{{ .Title | emojify | safeHTML }}" />
    {{- end -}}

    {{/* Metadata */}}
    {{ with (.Params.seo.description | default .Params.Summary | default .Params.Description) | default .Site.Params.description -}}
        <meta name="description" content="{{ . | safeHTML }}" />
    {{- end }}
    {{- with .Site.Params.robots -}}
        <meta name="robots" content="{{ . }}" />
    {{- end -}}
    {{- with .Params.robots -}}
        <meta name="robots" content="{{ . }}" />
    {{- end -}}

    {{- if .Params.noindex -}}
        <meta name="robots" content="noindex, nofollow" />
    {{- end -}}


    <!-- Do not index taxonomy and term pages -->
    {{- if or (eq .Kind "taxonomy") (eq .Kind "term") (eq .Params.seo.index "noindex") -}}
        <meta name="robots" content="noindex" />
    {{- end }}


    <link rel="canonical" href="{{ .Permalink }}" />

    {{- if .IsTranslated -}}
        {{ range .AllTranslations }}
            <link rel="alternate" hreflang="{{ .Language.Lang }}" href="{{ .Permalink }}" />
        {{- end -}}
        {{ range first 1 .AllTranslations }}
            <link rel="alternate" hreflang="x-default" href="{{ .Permalink }}" />
        {{- end -}}
    {{ end }}


    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="SeaTable" />
    <link rel="manifest" href="/site.webmanifest" />

    <!-- hier kann man noch ganz viel machen: apple-touch-icon etc... -->
    <!-- site verification google, bing, ... -->
    {{- if .Site.Params.Seo.googleSearchConsoleVerificationTag -}}
        <meta name="google-site-verification" content="{{ .Site.Params.Seo.googleSearchConsoleVerificationTag }}" />
    {{- end -}}

    {{/* Verification for prefix-based properties (one per language) */}}
    <meta name="google-site-verification" content="E2ZqrTXGnRUVI2ojFqaO1UCciOZW3fXsw8Wzroy6Glc" />

    <!-- Posthog Slug (um die jeweiligen Sprachseiten zusammenzukriegen)-->
    <meta name="slug" content="/{{ with .File }}{{ strings.TrimPrefix "content/" .Dir | strings.TrimSuffix "/" }}{{ end }}" />

    <!-- social ... -->
    {{- if hugo.IsProduction -}}
        {{ template "_internal/opengraph.html" . }}
        {{ template "_internal/twitter_cards.html" . }}

        {{ if or (eq .Type "help") (eq .Type "help-start") }}
            <meta property="og:image" content="{{ absURL `images/logos/seatable-og-help.png` }}" />
        {{ else if and (or (eq .Type "page") (eq .Type "pages")) (ne .Section "templates") }}
            {{/* Image for pages (excluding templates since they have a featured image) */}}
            <meta property="og:image" content="{{ absURL `images/logos/seatable-og-pages.png` }}" />
        {{ end }}
    {{- else -}}
        {{ "<!-- OpenGraph and Twitter cards are not generated in development mode -->" | safeHTML }}
    {{- end }}


    <!-- structured data -->
    {{ if .IsHome }}
        {{ partial "structured-data/organization.html" . }}
    {{ end }}

    {{ if eq .Section "posts" }}
        {{ if .IsPage }}
            {{ partial "structured-data/blog-post.html" . }}
        {{ else if .IsSection }}
            {{ partial "structured-data/blog-list.html" . }}
        {{ end }}
    {{ end }}

    {{ if eq .TranslationKey "/pages/prices" }}
        {{ partial "structured-data/pricing.html" . }}
    {{ end }}

    {{ if eq .TranslationKey "/pages/product/seatable-cloud" }}
        {{ partial "structured-data/seatable-cloud.html" . }}
    {{ end }}

    {{ if eq .TranslationKey "/pages/product/seatable-dedicated" }}
        {{ partial "structured-data/seatable-dedicated.html" . }}
    {{ end }}

    {{ if eq .TranslationKey "/pages/product/seatable-server" }}
        {{ partial "structured-data/seatable-server.html" . }}
    {{ end }}

    {{ if eq .Section "help" }}
        <!-- noch habe ich hier keine strukturierten daten -->
    {{ end }}


    <!-- other css and html -->
    {{- partial "head/css.html" . -}}
    {{- partial "head/js.html" . -}}

    {{- partial "posthog/init.html" . -}}
</head>
