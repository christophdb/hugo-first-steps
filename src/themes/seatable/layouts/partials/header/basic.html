<header class="padding-x py-8 z-10 w-full" x-data="{ mobileMenuOpen: false, productMenuOpen: false, solutionMenuOpen: false }">
    <nav class="flex justify-between items-center max-container">
        <!-- Logo -->
        <a href="/"><img src="/images/seatable-logo.svg" alt="Logo" width="130" height="29" /></a>

        <!-- Hauptnavigation -->
        <ul class="flex-1 flex justify-center items-center gap-8 max-lg:hidden text-gray-800">
            {{ $menu := .Site.Menus.main }}
            {{ range $menu }}
            {{ if not .HasChildren }}
                <!-- Top-level menu item -->
                <li class="">
                    <a class="text-gray-500 hover:text-primary-600 dark:hover:text-primary-400 text-lg font-poppins" href="{{ .URL }}">{{ .Name | markdownify }}</a>
                </li>
            {{ else }}
                <!-- Menu item with children -->
                <li
                    class="relative flex items-center space-x-1 z-20"
                    x-data="{ open: false }"
                    @mouseenter="open = true"
                    @mouseleave="open = false"
                >
                    <a
                        class="text-gray-500 hover:text-primary-600 dark:hover:text-primary-400 text-lg font-poppins"
                        href="#0"
                        :aria-expanded="open"
                    >{{ .Name | markdownify }}</a>
                    <button
                        class="shrink-0 p-1"
                        :aria-expanded="open"
                        @click.prevent="open = !open"
                    >
                        <span class="sr-only">Show submenu for "{{ .Name }}"</span>
                        <svg class="w-3 h-3 fill-slate-500" xmlns="http://www.w3.org/2000/svg" width="12" height="12">
                            <path d="M10 2.586 11.414 4 6 9.414.586 4 2 2.586l4 4z" />
                        </svg>
                    </button>
                    <!-- Submenu -->
                    <ul
                        class="origin-top-right absolute top-full left-1/2 -translate-x-1/2 min-w-[240px] bg-white border border-slate-200 p-2 rounded-lg shadow-xl [&[x-cloak]]:hidden"
                        x-show="open"
                        x-transition:enter="transition ease-out duration-200 transform"
                        x-transition:enter-start="opacity-0 -translate-y-2"
                        x-transition:enter-end="opacity-100 translate-y-0"
                        x-transition:leave="transition ease-out duration-200"
                        x-transition:leave-start="opacity-100"
                        x-transition:leave-end="opacity-0"
                        x-cloak
                        @focusout="$nextTick(() => !$el.contains($focus.focused()) && (open = false))"
                    >
                        {{ range .Children }}
                            <li>
                                <a class="flex items-center p-2 text-gray-500 hover:text-primary-600 dark:hover:text-primary-400 text-lg font-poppins" href="{{ .URL }}">
                                    
                                    <span>{{ .Name }}</span>
                                </a>
                            </li>
                        {{ end }}
                    </ul>
                </li>
            {{ end }}
        {{ end }}
        </ul>

        <!-- Language, Login, Register -->
        <div class="flex justify-between items-center gap-2"> 
            {{ partial "header/registration-button.html" . }}
            {{ partial "header/language-switcher.html" . }}

            <!-- Mobile Menu-->
            <div class="hidden max-lg:block">
                <button @click="mobileMenuOpen = !mobileMenuOpen" aria-label="Toggle mobile menu">
                    <img src="/icons/hamburger.svg" alt="Hamburger" width="25" height="25" />
                </button>
            </div>
        </div>
    </nav>

    <!-- Mobile menu, show/hide based on menu state. -->
    <div x-show="mobileMenuOpen" x-transition @click.away="mobileMenuOpen = false" id="mobile-menu" class="hidden max-lg:block">
        <ul class="flex flex-col items-end gap-4 bg-slate-100 p-4 text-right">
            {{ if .Site.Menus.main }}
            {{ range .Site.Menus.main }}
            {{ partial "header/navigation-mobile.html" . }}
            {{ end }}
            {{ end }}
        </ul>
    </div>

</header>



